<!DOCTYPE html>
<html>
    <head>
        <title>Aerie :3</title>
        <link rel="icon" type="image/x-icon" href="transtrain.ico">
        <link rel="stylesheet" type="text/css" href="index.css">

        <meta property="og:title" content="Aeriecat">
        <meta property="og:description" content="a little site full of nothing">
        <meta property="og:image" content="aeriessite.png">
        <meta property="og:url" content="aeriecat.space">
        <script src="https://sadgirlsclub.wtf/engine/banners/sadgirlsring.js"></script>
    </head>

    <body>
        <div class="main_grid">
            <div class="right_sidebar">
                <div class="right_container" style="padding: 0 0 0 10px;">
                    <h3>
                        <div class="navigation_button" style="border: none;">pages:</div>
                    </h3>
                    <h3>
                        <a href="#ExternalLinks">
                            <div class="navigation_button">link list</div>
                        </a>
                    </h3>
                    <h3>
                        <a href="#projects">
                            <div class="navigation_button">projects</div>
                        </a>
                    </h3>
                    <h3>
                        <a href="#blog-index">
                            <div class="navigation_button">blog</div>
                        </a>
                    </h3>
                    <h3>
                        <a href="#recipes">
                            <div class="navigation_button">recipes</div>
                        </a>
                    </h3>
                    <h3>
                        <a href="#home/contact">
                            <div class="navigation_button">contact</div>
                        </a>
                    </h3>
                </div>
                <div class="right_container" style="flex: 1; overflow: hidden; height: calc(100% - 300px)">
                    <div class="scrolling_div"
                    style="height: 100%;">
                        <div class="entry" style="padding-top: 0px; padding-bottom: 0px;">
                            <center>
                                <h3>what's new?</h3>
                            </center>
                        </div>
                        <div id="rss_reader"></div>
                    </div>
                </div>
                <div class="right_container_border"></div>
            </div>
            <div class="middle_container">
                <div class="header">
                    <header>
                        <div class="footer-content">
                            <div class="left-div">
                                <h1>
                                    <a href="#home/home" class="mode_changer">
                                        <img class="mode_changer" src="transtrain.webp" alt="(insert train pic)"
                                            height="50" />
                                    </a>
                                    <a href="cat-space" class="secret">Cat</a> Space
                                    <!--
                                    <p id="page-counter" style="font-family: Arial, sans-serif;
                                    font-size: 16px;">
                                        Page Views: 
                                    </p>
                                    -->
                                </h1>
                            </div>
                            <div class="mode_changer" style="display: inline-block; width: 85px;">
                                <img id="toggle-button" src="moon.png" alt="Toggle Light Mode" width="75"
                                    style="margin-left: -30px;">
                            </div>
                        </div>
                        <div class="mobile_navigation">
                            <a href="#ExternalLinks">
                                <div class="navigation_button">
                                    <p class="navigation_button_p">link list</p>
                                </div>
                            </a>
                            <a href="#projects">
                                <div class="navigation_button">
                                    <p class="navigation_button_p">projects</p>
                                </div>
                            </a>
                            <a href="#blog-index">
                                <div class="navigation_button">
                                    <p class="navigation_button_p">blog</p>
                                </div>
                            </a>
                            <a href="#recipes">
                                <div class="navigation_button">
                                    <p class="navigation_button_p">recipes</p>
                                </div>
                            </a>
                        </div>
                    </header>
                </div>
                <div class="body">
                    <iframe name="index"></iframe>
                </div>
                <div class="footer">
                    <footer>
                        <hr>
                        <div class="footer-content">
                            <div class="left-div">
                                <!--<p>left</p>-->
                            </div>
                            <div class="center-div" style="max-height: 500px;">
                                <!--<h5>Part of the SadGirlsClub Webring</h5>-->
                                <h3>
                                    <a href="https://ubuntu.com/"><img src="88x31/ubuntu-88x31.gif" alt="Ubuntu User" /></a>
                                    <a href="https://www.tracktranslegislation.com/"><img src="88x31/transnow2.gif" alt="trans rights" /></a>
                                    <a href="http://petregress.com/"><img src="88x31/rainbow.gif" alt="gay" /></a>
                                    <a href="https://www.gimp.org/"><img src="88x31/gimp.gif" alt="gimp user" /></a>
                                    <img src="88x31/aeriecat.space.png" alt="aeriecat.space" title="Feel free to use">
                                    <a href="index.xml" class="entry-link"><img
                                            src=https://wp-assets.rss.com/blog/wp-content/uploads/2019/10/10111557/social_style_3_rss-512-1.png
                                            height="31"></a>
                                </h3>
                            </div>
                            <div class="right-div">
                                <!--<p>right</p>-->
                            </div>
                        </div>
                    </footer>
                </div>
            </div>
            <div>
                <div class="left_sidebar" style="overflow: hidden; height: 700px">
                    <!--
                    <div class="entry" style="padding-top: 0px; padding-bottom: 0px; height:180px; max-height: 300px;">
                        <center>
                            <p><b>Guest Book:</b></p>
                        </center>
                        <div class="form-container">
                            <form method="post" action="addquote.php" onsubmit="submitForm();">
                                <div class="form-field">
                                    <label for="name">Name:</label>
                                    <input type="text" id="name" name="name">
                                </div>
                                <div class="form-field">
                                    <label for="quote">Message:</label>
                                    <textarea id="quote" name="quote"></textarea>
                                </div>
                                <div class="form-field">
                                    <input type="submit" value="Submit Quote" class="submit-button">
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="scrolling_div">
                        <div id="randoms" style="
                        width: 300px; 
                        height: auto;"></div>
                    </div>
                    <div class="right_container_border">
                    </div>
                `-->
                </div>
                <div class="left_sidebar" style="overflow: hidden; height: 230px">
                    <h3>
                        SadGirlsClub webring:
                    </h3>
                    <p id="sadbanner"><img src="banners/Aeriessite.png"></p>
                    <p id="siteauthor">SGC is going through a rewrite</p>
                </div>
            </div>
        </div>

        <!--<script>
            // quote wall
            document.addEventListener("DOMContentLoaded", function () {
            fetch("randoms.json")
                .then(response => {
                if (!response.ok) {
                    throw new Error(`Network response was not ok (${response.status} ${response.statusText})`);
                }
                return response.json();
                })
                .then(quotes => {
                console.log("Fetched quotes:", quotes);
        
                if (!Array.isArray(quotes)) {
                    throw new Error("JSON data is not an array.");
                }
        
                const quoteContainer = document.getElementById("randoms");
        
                for (let i = quotes.length - 1; i >= 0; i--) {
                    const quoteObj = quotes[i];
        
                    const quoteDiv = document.createElement("div");
                    quoteDiv.classList.add("quote");
        
                    const quoteText = document.createElement("p");
                    quoteText.innerHTML = quoteObj.quote;
                    quoteText.classList.add("quote-text");
                    quoteDiv.appendChild(quoteText);
        
                    const authorText = document.createElement("p");
                    authorText.textContent = `- ${quoteObj.author}, ${quoteObj.date}`;
                    authorText.classList.add("author-date");
                    quoteDiv.appendChild(authorText);
        
                    quoteContainer.appendChild(quoteDiv);
                }
                })
                .catch(error => {
                console.error("Error fetching or processing JSON:", error);
                });
            });
        </script>-->
        
        
        <!--<script>
            // Function to fetch and update the view count
            function updateViewCount() {
                fetch('counter.php')
                    .then(response => response.text())
                    .then(count => {
                        // Update the count on the webpage
                        document.getElementById('page-counter').innerText = `Page Views: ${count}`;
                    })
                    .catch(error => console.error('Error fetching view count:', error));
            }

            // Run the function when the page loads
            window.addEventListener('load', updateViewCount);
        </script>-->

        <script> //handles which html to load into the iframe based on url
            /* iframe code */
            window.addEventListener("hashchange", function () {
                var fileName = window.location.hash.substr(1);
                if (!fileName) {
                    fileName = "home/home";
                }
                document.getElementsByName("index")[0].src = fileName;
            });
            if (!window.location.hash) {
                window.location.hash = "#home/home";
            } else {
                window.dispatchEvent(new Event("hashchange"));
            }
        </script>

        <script> //handles lightmode
            /* Light Mode toggle */
            function toggleMode() {
                var body = document.body;
                body.classList.toggle("light");
                var toggleButton = document.getElementById("toggle-button");
                var isLightMode = body.classList.contains("light");
                toggleButton.src = isLightMode ? "sun.png" : "moon.png";
                toggleButton.alt = isLightMode ? "Toggle Light Mode" : "Toggle Dark Mode";
                if (isLightMode) {
                    body.style.backgroundImage = "url('backgrounds/background.jpg')"
                }
                if (!isLightMode) {
                    body.style.backgroundImage = "url('backgrounds/background.png')"
                }
            }
            var toggleButton = document.getElementById("toggle-button");
            toggleButton.addEventListener("click", toggleMode);
        </script>

        <script> // Change background image on load
            document.addEventListener('DOMContentLoaded', function () {
                setTimeout(function () {
                    console.log("it do it");
                    var body = document.body;
                    var currentBackground = getComputedStyle(body).backgroundImage;
                    console.log(currentBackground)
                    if (currentBackground.includes('background-distorted.png') && !(window.location.hash === '#b/body-horror')) {
        console.log('changing background dark');
        body.style.backgroundImage = "url('backgrounds/background.png')";
    }

                }, Math.floor(Math.random() * (750)));
            });

            window.addEventListener('hashchange', function() {
                if (window.location.hash === '#home/home') {
                    var body = document.body; 
                    var delay = Math.floor(Math.random() * (750));
                    body.style.backgroundImage = "url('backgrounds/background-distorted.png')";
                    setTimeout(function () {
                        console.log("it do it");
                        var currentBackground = getComputedStyle(body).backgroundImage;
                        console.log(currentBackground)
                        if (currentBackground.includes('background-distorted.png')) {
                            console.log('changing background dark')
                            body.style.backgroundImage = "url('backgrounds/background.png')";
                        }
                    }, delay);
                }else{
                    var body = document.body; 
                    body.style.backgroundImage = "url('backgrounds/background.png')";
                }

                if (window.location.hash === '#b/body-horror') {
                    body.style.backgroundImage = "url('backgrounds/background-distorted.png')";
                }
            });



        </script>

        <!--<script> //reload javascript on form submit
        function submitForm() {
            window.location.reload();
        }
        </script>-->

        <script> // rss feed
            const rssFeedDiv = document.getElementById('rss_reader');

            const rssFeedUrl = 'index.xml';

            fetch(rssFeedUrl)
                .then(response => response.text())
                .then(data => {
                    const parser = new DOMParser();
                    const xmlDoc = parser.parseFromString(data, 'text/xml');
                    const websiteName = xmlDoc.querySelector('channel > title').textContent;
                    const items = xmlDoc.querySelectorAll('item');

                    items.forEach(item => {
                        const title = item.querySelector('title').textContent;
                        const link = item.querySelector('link').textContent;
                        const description = item.querySelector('description').textContent;
                        const pubDate = new Date(item.querySelector('pubDate').textContent).toLocaleDateString();

                        const entryLink = document.createElement('a');
                        entryLink.href = link;
                        entryLink.classList.add('entry-link');
                        const entryDiv = document.createElement('div');
                        entryDiv.classList.add('entry');
                        const cornerText = document.createElement('div');
                        cornerText.classList.add('corner-text');
                        cornerText.textContent = websiteName + ' | ' + pubDate;
                        entryDiv.appendChild(cornerText);
                        entryDiv.innerHTML += `<h2>${title}</h2>`;

                        const tooltip = document.createElement('div');
                        tooltip.classList.add('tooltip');
                        tooltip.innerHTML = description;
                        tooltip.style.display = 'none';

                        entryLink.addEventListener('mouseover', () => {
                            tooltip.style.display = 'block';
                        });
                        entryLink.addEventListener('mouseout', () => {
                            tooltip.style.display = 'none';
                        });

                        entryDiv.appendChild(tooltip);
                        entryLink.appendChild(entryDiv);
                        rssFeedDiv.appendChild(entryLink);
                    });
                })
                .catch(error => {
                    console.error('Error fetching or parsing RSS feed:', error);
                });
        </script>
    </body>
</html>